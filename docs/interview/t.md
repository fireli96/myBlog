## 美团一面

1. 项目 - 埋点是怎么做的
2. 项目 - webpack 性能优化用了哪些方法
3. 编程 - 实现 promiseAll
4. 编程 - 用 setTimeout 实现 setInterval，并能够支持取消
5. 浏览器渲染阻塞如何优化 - 分片渲染
6. 事件循环
7. 清除浮动
8. 两栏布局
9. vue 响应式简单写一个或说一下（最好写一下）（说的，写不太出）
10. 迭代器原理（最好写一下）（说了下生成器写法，并且原理只说了个协程两个字。应该是想问：生成器可创建迭代器，for of 原理，添加 `*[Symbol.iterator]` 属性让对象可迭代）

    协程是一个更微小且可中断的线程。
    每当生成器执行 yield 语句时，生成器的堆栈结构（本地变量、参数、临时值、生成器内部当前的执行位置 etc.）被移出堆栈，然而生成器对象保留对这个堆栈结构的引用（备份），所以稍后调用 .next() 可以重新激活堆栈结构并且继续执行。

    （其他考点：生成器，迭代器实现 async 和 await）

11. 跨域
12. 同源-协议、域名、端口

## tplink 一面

1. vue 父子组件传值
2. vue2 和 vue3 区别 （主要答了组合 api 和其优势，proxy）
3. proxy 和 defineProperty 的区别。（一个代理对象，可以监听到对象新增删除，一个代理属性；都需要递归子对象代理；proxy 功能更丰富可拦截 in ，delete 以前其他一些获取属性的方法；defineProperty 代理数组性能问题，例如删除一个数组，将导致后续元素都触发 set，而 proxy 代理对象没这个问题）
4. 大量使用组合 api 有什么劣势。
5. 其他框架有了解过没。（答了 Svelte， Svelte 的特点，无虚拟 dom，主要靠编译成具体操作 dom 的语句，运行时很小）
6. Svelte 缺点。（答了无虚拟 dom 的缺点，跨平台不行，例如 ssr）
7. es6 新增加了哪些数据结构。（set，map，symbol）
8. 了解什么是隐式转换没。（宽松相等 `==`，会隐式转换，没细问，随便举了个例子）
9. 设计模式。（答了发布订阅，单例，答得一般）
10. http 缓存
11. 近年来浏览器给 cookie 做了许多限制，有什么影响。（答了，httpOnly 和 sameSite 属性可以保护 cookie 被盗取，更安全）
12. 接着上一题， cookie 限制对广告的影响。（不太理解网页广告的原理，具体问了下场景，广告是页面嵌入第三方域名的连接，当你浏览网页时，会携带第三方域名 cookie 去第三方域名接口获取你的信息，如果第三方 cookie 被限制（浏览器会限制）或是 cookie 被设置 sameSite 同源，那这样的广告将无效）
    例如：
    - 你访问了百度，搜索了什么，百度通过 cookie 记录了你的搜索
    - 然后你访问京东，京东嵌入了对应百度广告的 js，那么就会在京东的域名下向百度（第三方网站）发起请求，携带百度的 cookie（第三方 cookie），拿到你刚百度搜索的东西
    - 京东根据你的搜索作自定义推荐
    - 所以，第三方 cookie 被限制（浏览器会限制）或是 cookie 被设置 sameSite 同源，第二步将无法进行。
13. 知道 csp 吗？（答了 csp 内容安全策略，随便说了几个作用，可以防止 xss 攻击，深入不了解）
14. 编程-实现一个 Mac 类用来储存和校验 mac 地址。考点：判断 16 进制，隐式转换

    ```js
    // 实现一个Mac类用来储存和校验mac地址，mac地址格式aa-bb-cc-dd-ee-ff,16进制数共12位，
    // 每两位中间有分隔符，满足以下使用方法:
    // const mac = new Mac('-'); // 初始化时传入分隔符

    // mac.set('11-22-33-44-55-66'); // 如果格式错误返回false
    // mac == '11-22-33-44-55-66'; // 返回true
    ```

15. 追问，能否用一个正则。（磕磕绊绊写出来了 `/^([0-9A-F][0-9A-F]-){5}([0-9A-F][0-9A-F]){1}$/i`）
16. 追问，正则如何改变分隔符，类似于上面的 class 传入一个分隔符。（用 new RegExp）

## 字节抖音开放平台一面

1. 小程序和 h5 web 开发区别？（小程序双线程架构，web 开发渲染引擎和 js 执行互相阻塞）
2. 接上题，为什么浏览器 js 和渲染会互相阻塞，这是为了规避什么问题呢？

    单从渲染的角度看，js 和渲染引擎并不需要互斥，如果在渲染的过程中出现 js 改变视图，那可以开启一个队列待当前渲染完毕后再发起新的渲染。这样并不会出现视图更新的错误。

    但从 js 的角度来看，js 可能需要获取到元素尺寸位置信息，这些 api 会引起强制回流和重绘。如果 js 和渲染不互相阻塞，那 js 在使用这些 api 时，渲染正在进行，那必须等这些渲染完毕后，这样可能会较长阻塞 js 执行。

3. 接上题，那小程序没有这样的问题吗？

    小程序都是异步的，包括获取元素信息。

4. 项目：刚聊到内部小程序框架，介绍下这是怎样的框架，做这样框架的目的或者解决什么？
5. 接上题，这个内部小程序框架的单文件写法是怎么实现的？
6. 有没有了解过市面上的其他框架，例如：taro？（说了下 taro3 运行时跨平台的原理）
7. 接上题，你刚说了，taro3 是作了 dom 操作，实际上它是怎么在小程序环境中做的 dom 操作？
8. 接上题，你刚说了 taro3 dom 操作后构建成了一棵树，这棵树如何与 data 进行映射的？
9. 项目：可回溯工具如何实现的？会考虑隐私合规这样一个问题吗（直接回答的不知道是否合规）
10. 项目：介绍所做的业务？
11. 小程序开发过程中，有用过抓包工具吗？（无）
12. https 安全的原理。
13. cdn 概念和原理。
14. 看题：事件委托。
15. 看题：this 指向相关。箭头函数和普通函数区别。
16. 看题：setTimeout 不精准（使用 webwork，没想到，扯了半天其他的）。
17. 看题：宏任务和微任务执行顺序。深入问为什么要有两个任务队列，只有宏任务不可以吗，这是为了解决什么问题。
18. 编程：最长公共前缀简单题（用了个前缀树，但只是针对这一道题，并非最优解，实际和扫描遍历时间复杂度一致；最优解是基于最短字符长度的二分查找后遍历对比 https://leetcode-cn.com/problems/longest-common-prefix/solution/zui-chang-gong-gong-qian-zhui-by-leetcode-solution/）

## 字节抖音开放平台二面

1. 项目：mixin 解决方案和思路？
2. 接上题：高阶组件、render props、hooks 之间区别和你的理解？
3. 项目：你维护的这个内部小程序框架，功能上做了什么，对业务有啥帮助？
4. 项目：详细说说 tree-shake 的实现原理。
5. 接上题：你这个 tree-shake 模块的设计（简单的架构设计），就是有哪些模块？
6. 对象深克隆方式？递归深克隆时如何处理循环引用？
7. 小程序开发时，因为存在 data 序列化和反序列化在两个线程之间传递，那么可能绘图动画之类的会出现掉帧，如何优化？（setData 的优化？）。
8. BFC 原理、特性、应用。
9. 如果要做一个 suggestion 组件：输入什么，然后弹出一个下拉框，里面是一些建议项，可以选择。应该如何设计这个组件，从代码、样式层面等。
10. TCP 连接过程。
11. http 缓存。
12. 编程：`function request(urls, maxNumber, callback)` 要求编写函数实现，根据 `urls` 数组内的 `url` 地址进行并发网络请求，最大并发数 `maxNumber` , 当所有请求完毕后调用 `callback` 函数。(已知请求网络的方法可以使用 fetch api，注意一旦有一个请求完成，便可以立即发起下一个请求，直到并发数不满足 `maxNumber`)
13. 编程：bind 特性，多次 bind 不同对象，最终指向哪一次的对象？实现 bind（要兼容 new ，即 new fn.bind(obj) ，最后执行 fn 时，this 指向的是 new 创建的 fn 的实例）

## 字节抖音开放平台三面

1. 项目：小程序做了哪些，怎么做的，介绍一下。
2. 项目：你们小程序框架会做 DSL 相关的么？（直接没有）
3. 项目：内部用的小程序框架用来解决哪些问题的。
4. vue 双向绑定原理。
5. 编程：手写 vue 双向绑定原理。
6. proxy 了解过么？
7. 编程：45 度打印矩阵。

    ```js
    let a = [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9]
    ];

    // 输出 1 2 4 3 5 7 6 8 9
    ```

8. 前端统计报表数据相关的东西怎么做的，一般考虑哪些方面？（数据收集，数据可视化？）
9. 微信小程序运行原理
