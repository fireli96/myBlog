(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{414:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"babel7-简单使用总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel7-简单使用总结"}},[t._v("#")]),t._v(" babel7 简单使用总结")]),t._v(" "),s("h2",{attrs:{id:"webpack-中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-中使用"}},[t._v("#")]),t._v(" webpack 中使用")]),t._v(" "),s("p",[t._v("安装 "),s("code",[t._v("@babel/preset-env")]),t._v(" 以及 "),s("code",[t._v("core-js")])]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("package.json")]),t._v(" 文件所在目录新建 "),s("code",[t._v("babel.config.js")]),t._v("文件")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  presets"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        useBuiltIns"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"usage"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        corejs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        targets"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 目标浏览器版本，该浏览器缺失某新语法，babel才会引入这个新语法")]),t._v("\n          ie"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),t._v(" "),s("p",[s("code",[t._v("targets")]),t._v("字段可用同级目录下"),s("code",[t._v(".browserslistrc")]),t._v("文件代替，例如：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("> 1%\nlast 2 versions\n\n")])])]),s("p",[s("code",[t._v(".browserslistrc")]),t._v("文件的语法为 "),s("code",[t._v("browserslist")]),t._v("："),s("a",{attrs:{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserslist 语法"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("也可以使用"),s("code",[t._v(".babelrc")]),t._v("文件代替"),s("code",[t._v("babel.config.js")]),t._v("文件。使用"),s("code",[t._v("babel.config.js")]),t._v("，babel 会编译"),s("code",[t._v("node_modules")]),t._v(" 目录下的模块。")]),t._v(" "),s("p",[t._v("需要在"),s("code",[t._v("corejs")]),t._v("字段中指明版本。")]),t._v(" "),s("p",[s("code",[t._v("useBuiltIns")]),t._v("有三个值："),s("code",[t._v("false")]),t._v("、"),s("code",[t._v("entry")]),t._v("、"),s("code",[t._v("usage")]),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("false")]),t._v(" 只做了语法转换， "),s("code",[t._v("entry")]),t._v(" 引入了所有的 es 扩展包（满足 targets 指定的浏览器版本），"),s("code",[t._v("usage")]),t._v(" 会自动检测代码中用到的功能自动引入模块。")]),t._v(" "),s("h2",{attrs:{id:"vue-cli3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli3"}},[t._v("#")]),t._v(" vue-cli3")]),t._v(" "),s("p",[t._v("vue-cli3 使用的是 "),s("code",[t._v("@vue/babel-preset-app")]),t._v(" 插件来完成 babel 配置的，具体见：")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/browser-compatibility.html#browserslist",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli 浏览器兼容性"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("需要注意的是，在"),s("code",[t._v("@vue/app")]),t._v("插件中指定 corejs: 3 似乎不起作用（待定...）")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  presets"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//@vue/babel-preset-app插件缩写")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vue/app"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        corejs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"参考资料"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.babeljs.cn/docs/configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel 官网"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/zloirock/core-js#babelpreset-env",target:"_blank",rel:"noopener noreferrer"}},[t._v("github corejs"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/weixin_33737774/article/details/91365422",target:"_blank",rel:"noopener noreferrer"}},[t._v("快速上手 babel"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5d0373a95188251e1b5ebb6c#heading-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("结合 Babel 7.4.0 谈一下 Babel-runtime 和 Babel-polyfill"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.im/post/5c19c5e0e51d4502a232c1c6#heading-11",target:"_blank",rel:"noopener noreferrer"}},[t._v("一口(很长的)气了解 babel"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);